{% trans_default_domain 'messages' %}

<div class="uk-modal-dialog">
    <form class="uk-form-stacked" action="{{ url('admin_access_control_create', { 'module' : module, 'roleKey': roleKey }) }}" method="POST">
        <div class="uk-modal-header">
            <h3>Attribution de la permission <em>{{ role.description|trans }}</em></h3>
        </div>
        <div class="uk-margin-medium-bottom">
            <label for="kUI_multiselect_users">SÃ©lectionner des groupes d'utilisateurs</label>
            <select name="groupsId[]" id="kUI_multiselect_users" multiple required>
                <option value=""></option>
                {% for group in groups %}
                    <option value="{{ group.id }}">{{ group.name }}</option>
                {% endfor %}
            </select>
            <input type="hidden" name="role" value="{{ role.label|upper }}" />
        </div>
        <div class="uk-modal-footer uk-text-right">
            <button type="button" class="md-btn md-btn-flat uk-modal-close">Fermer</button>
            <button type="submit" class="md-btn md-btn-primary">Attribuer</button>
        </div>
    </form>
</div>

<script type="text/javascript">
    altair_forms.init();
    var $kUI_multiselect_users = $('#kUI_multiselect_users');
    if($kUI_multiselect_users.length) {
        $kUI_multiselect_users.kendoMultiSelect();
    }
</script>