{% trans_default_domain 'messages' %}

{{ form_start(form, {'attr': {'class': 'uk-form-stacked'}}) }}
    <div class="uk-grid" data-uk-grid-margin>
        <div class="uk-width-large-1-2">
            <div class="md-card">
                <div class="md-card-content">
                    <div class="uk-form-row">
                        {{ form_label(form.firstName, null, {'label_attr': {'class': 'uk-form-label'}}) }}
                        {{ form_widget(form.firstName, {'attr': {'class': 'md-input'}}) }}
                    </div>
                    <div class="uk-form-row">
                        {{ form_label(form.lastName, null, {'label_attr': {'class': 'uk-form-label'}}) }}
                        {{ form_widget(form.lastName, {'attr': {'class': 'md-input'}}) }}
                    </div>
                    <div class="uk-form-row">
                        {{ form_label(form.phoneNumber, null, {'label_attr': {'class': 'uk-form-label'}}) }}
                        {{ form_widget(form.phoneNumber, {'attr': {'class': 'md-input'}}) }}
                    </div>
                    <div class="uk-form-row">                        
                        {{ form_label(form.email, null, {'label_attr': {'class': 'uk-form-label'}}) }}
                        {{ form_widget(form.email, {'attr': {'class': 'md-input'}}) }}
                    </div>
                    <div class="uk-form-row">
                        {{ form_label(form.username, null, {'label_attr': {'class': 'uk-form-label'}}) }}
                        {{ form_widget(form.username, {'attr': {'class': 'md-input'}}) }}
                    </div>
                    <div class="uk-form-row">
                        {{ form_label(form.plainPassword.first, null, {'label_attr': {'class': 'uk-form-label'}}) }}
                        {{ form_widget(form.plainPassword.first, {'attr': {'class': 'md-input'}}) }}
                        {{ form_errors(form.plainPassword) }}
                    </div>
                    <div class="uk-form-row">
                        {{ form_label(form.plainPassword.second, null, {'label_attr': {'class': 'uk-form-label'}}) }}
                        {{ form_widget(form.plainPassword.second, {'attr': {'class': 'md-input'}}) }}
                    </div>
                </div>
            </div>
        </div>
        <div class="uk-width-large-1-2">
            <div class="md-card">
                <div class="md-card-content">
                    <div class="uk-form-row">
                        {{ form_label(form.credentialsExpiresAt, null, {'label_attr': {'class' : 'uk-form-label'}}) }}
                        {% if user is defined %}
                            {{ form_widget(form.credentialsExpiresAt, {'id': 'credentials_expires_at', 'attr': {'style': 'width:100%'}, 'value': user.credentialsExpiresAt|date('d-m-Y H:i')}) }}
                        {% else %}
                            {{ form_widget(form.credentialsExpiresAt, {'id': 'credentials_expires_at', 'attr': {'style': 'width:100%'}}) }}
                        {% endif %}
                    </div>
                    <div class="uk-form-row">
                        {{ form_label(form.accountExpiresAt, null, {'label_attr': {'class' : 'uk-form-label'}}) }}
                        {% if user is defined %}
                            {{ form_widget(form.accountExpiresAt, {'id': 'account_expires_at', 'attr': {'style': 'width:100%'}, 'value': user.accountExpiresAt|date('d-m-Y H:i')}) }}
                        {% else %}
                            {{ form_widget(form.accountExpiresAt, {'id': 'account_expires_at', 'attr': {'style': 'width:100%'}}) }}
                        {% endif %}
                    </div>
                    <div class="uk-form-row">
                        <div class="uk-float-right">
                            {{ form_widget(form.enabled, {'attr': {'data-switchery': true}}) }}
                        </div>
                        {{ form_label(form.enabled, null, {'label_attr': {'class': 'uk-display-block uk-margin-small-top uk-form-label'}}) }}
                    </div>
                    <div class="uk-form-row">
                        <div class="uk-float-right">
                            {{ form_widget(form.locked, {'attr': {'data-switchery': true}}) }}
                        </div>
                        {{ form_label(form.locked, null, {'label_attr': {'class': 'uk-display-block uk-margin-small-top uk-form-label'}}) }}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="uk-text-center uk-margin-top">
        <a class="md-btn md-btn-default" href="{{ url('admin_user_list') }}">
            <i class="fa fa-arrow-left"></i>
            {{ 'button.cancel'|trans }}
        </a>
        <button class="md-btn md-btn-success" type="submit">
            {% if user is defined %}
                {{ 'button.update'|trans }}
            {% else %}
                {{ 'button.add'|trans }}
            {% endif %}
            <i class="fa fa-check"></i>
        </button>
    </div>
{{ form_end(form) }}